<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D3 Angular Word Cloud</title>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/d3/d3.min.js"></script>
    <script src="bower_components/d3-cloud/build/d3.layout.cloud.js"></script>
    <script src="d3_word_cloud.js"></script>
</head>
<body>

<div ng-app="app" ng-controller="MainCtrl">
    <word-cloud tags="tags"></word-cloud>
</div>

<script>
     var tagData;
     var check1, check2;
     var scopeData = [];

     check1 = window.parent.window.firstSence;
     check2 = window.parent.window.secondSence;

     if (check1 == 1 && check2 == 0){
          tagData = window.parent.window.fileSource;

          tagData.forEach(function(entry) {
               if (entry != ""){
               // m_wordlist
                    var small_element = {key: entry, value: (Math.floor((Math.random() * 30) + 1))};
                    scopeData.push(small_element);        
               }
          });
     }

     if (check1 == 0 && check2 == 1){
          tagData = window.parent.window.wordSource;

          tagData.forEach(function(entry) {
               if (entry != ""){
               // m_wordlist
                    var small_element = {key: entry, value: (Math.floor((Math.random() * 30) + 1))};
                    scopeData.push(small_element);        
               }
          });
     }
     

    angular.module('app', ['wc'])
            .controller('MainCtrl', function ($scope) {
               $scope.tags = scopeData;
               console.log($scope.tags);
            });
</script>

</body>
</html>